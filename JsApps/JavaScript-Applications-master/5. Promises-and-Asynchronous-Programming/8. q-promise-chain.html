<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Q promise chain</title>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/q.js/0.9.2/q.js"></script>
</head>
<body>
    <script>
        function powerPromise(number) {
            var deferred = Q.defer();
			

            deferred.resolve(Math.sqrt(number));

            return deferred.promise;
        }

        powerPromise(-5)
			.then(function (result) {
				//throw { message: "unknown error" };
				return powerPromise(result, 2);
			})
			.then(function (result) {
				console.log(result);
			}, function (error) {
				console.warning("Known exception: " + error.message);
			});

    </script>
</body>
</html>
